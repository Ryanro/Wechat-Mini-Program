global.webpackJsonp([5],{"/igx":function(i,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=e("5nAL"),a=e.n(s),n=e("3oPr");new a.a(n.a).$mount(),t.default={config:{navigationBarTitleText:"修改视频信息"}}},"3oPr":function(i,t,e){"use strict";var s=e("aU4E"),a=e("xmdG");var n=function(i){e("uCva")},r=e("ybqe")(s.a,a.a,n,"data-v-588f71b0",null);t.a=r.exports},aU4E:function(i,t,e){"use strict";var s=e("Xxa5"),a=e.n(s),n=e("exGp"),r=e.n(n),c=e("Dd8w"),o=e.n(c),l=e("NYxO"),u=e("IcnI"),d=e("ZoQJ");t.a={data:function(){return{original:null,name:"",description:""}},computed:o()({},e.i(l.d)(["getVideoById"]),{wordCount:function(){return this.description?this.description.length:0}}),onShow:function(){this.original=this.getVideoById(this.$root.$mp.query.id),this.name=this.original.name,this.description=this.original.description},store:u.a,methods:o()({},e.i(l.b)(["fetchVideos"]),{submit:function(){var i=this;return r()(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(wx.showLoading({title:"正在更新视频信息..."}),i.name===i.original.name&&i.description===i.original.description){t.next=13;break}return t.prev=2,t.next=5,e.i(d.a)("videos/"+i.$root.$mp.query.id,"PUT",{name:i.name,description:i.description});case 5:return t.next=7,i.fetchVideos();case 7:t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0),e.i(d.b)("视频信息更新失败!");case 13:wx.hideLoading(),wx.navigateBack();case 15:case"end":return t.stop()}},t,i,[[2,9]])}))()}})}},uCva:function(i,t){},xmdG:function(i,t,e){"use strict";var s={render:function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",[e("div",{staticClass:"video-thumbnail",style:{backgroundImage:i.original?"url("+i.original.thumbnail_url+")":""}}),i._v(" "),e("div",{staticClass:"input-cells"},[i._m(0),i._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:i.name,expression:"name"}],staticClass:"name",attrs:{placeholder:"添加名字",eventid:"0"},domProps:{value:i.name},on:{input:function(t){t.target.composing||(i.name=t.target.value)}}}),i._v(" "),e("div",{staticClass:"weui-cell weui-cell_access"},[i._m(1),i._v(" "),e("div",{staticClass:"weui-cell__bd weui-cell_primary"},[i._v("简介")]),i._v(" "),e("div",{staticClass:"weui-cell__ft"},[i._v(i._s(i.wordCount))])]),i._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:i.description,expression:"description"}],staticClass:"description",attrs:{placeholder:"添加简介","cursor-spacing":0,"show-confirm-bar":!1,eventid:"1"},domProps:{value:i.description},on:{input:function(t){t.target.composing||(i.description=t.target.value)}}})]),i._v(" "),e("div",{staticClass:"submit-button",attrs:{eventid:"2"},on:{click:i.submit}},[e("img",{staticClass:"icon",attrs:{src:"/static/icons/submit.png"}}),i._v(" "),e("span",[i._v("发表")])])])},staticRenderFns:[function(){var i=this.$createElement,t=this._self._c||i;return t("div",{staticClass:"weui-cell weui-cell_access"},[t("div",{staticClass:"weui-cell__hd"},[t("img",{staticClass:"icon",attrs:{src:"/static/icons/period.png"}})]),this._v(" "),t("div",{staticClass:"weui-cell__bd weui-cell_primary"},[this._v("名字")])])},function(){var i=this.$createElement,t=this._self._c||i;return t("div",{staticClass:"weui-cell__hd"},[t("img",{staticClass:"icon",attrs:{src:"/static/icons/description.png"}})])}]};t.a=s}},["/igx"]);